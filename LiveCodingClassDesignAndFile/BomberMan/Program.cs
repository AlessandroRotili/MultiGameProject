using System.Net.NetworkInformation;
using System.Linq;
using System.IO;

namespace BomberMan
{
    class Program
    {
        static void Main(string[] args)
        {
            int userpt = 0, pcpt = 0; //contatore di punti

            DirectoryInfo d = new DirectoryInfo(@"C:\Users\aroti\source\repos\CSProjects\LiveCodingClassDesignAndFile\BomberMan\res\"); //Assuming Test is your Folder
            FileInfo[] Files = d.GetFiles("*.txt"); //Getting Text files

            while (true)
            {
                int j = 0;
                Random rnd = new Random();
                int bombFile = rnd.Next(1, Files.Length);
                for (int i = 0; i < Files.Length; i++)
                {
                    if (i == bombFile)
                        File.WriteAllText(Files[i].FullName, "bomb");
                    else
                        File.WriteAllText(Files[i].FullName, "nessun ordigno");
                }

                Console.WriteLine("´´´´´´´´´´´´´´´´´´´´´´´$¶´´´´´¶´´´´´¶¢\r\n´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´¶¢´´´¶´´´ø¶\r\n´´´´´´´´´´¶¶´´´´ø¶¶¶´´´´´´oø´´ø´´øo\r\n´´´´´´´´´´¶7´´´´´´´¶¶¶´´´´´´1´´´1´´´´1o\r\n´´´´´´´¶¶¶¶¶¶¶´´´´´´´¶¶¶7´´´´´´´´1o¶¶¶ø\r\n´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´¶¶¶¶¶¶¶¶´´1\r\n´´´´´o¶¶¶¶¶¶¶¶¶ø´´´´´´´´´´´´´´´´´´o$¢\r\n´´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´´´´´´¢´´1ø´´´1¶¶\r\n´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶o´´´´´´´1$´´´¶\r\n´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´´´¶´´´´o¶´\r\n´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´¶¶\r\n´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´\r\n´´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´\r\n´´´´´¶¶¶¶¶¶¶¶¶¶¶¶´\r\n´´´´´´´¶¶¶¶¶¶¶¶\r\n");
                Console.WriteLine($"Nella cartella ci sono {Files.Length} files" +
                    $"\nDigita un numero da 1 a {Files.Length} per scegliere un file");

                foreach (FileInfo file in Files)
                {
                    j++;
                    Console.WriteLine($"{j}- {file.Name}");
                }

                int count = 3;

                while (count > 0)
                {
                    int input = int.Parse(Console.ReadLine()) - 1;

                    if (Searcher.IsBombFound(input, Files))
                    {
                        Console.WriteLine("___________________________________¶¶¶¶          \r\n________________________¶¶¶¶____¶¶¶¶11¶             \r\n________________________¶¶1¶¶_¶¶¶¶1111¶             \r\n_______________________¶¶111¶¶¶1111111¶             \r\n___________________¶¶¶_¶1111¶¶1111111¶              \r\n___________________¶11¶¶111¶¶111111¶¶               \r\n___________________¶11¶1111¶111111¶¶                \r\n__________________¶¶11¶111¶111111¶¶                 \r\n__________________¶11¶111¶¶111111¶                  \r\n__________________¶11¶111¶1111111¶                  \r\n_________________¶11¶111¶11111111¶                  \r\n_________________¶1¶111¶¶1111111¶¶                  \r\n________________¶1¶¶111¶1111111¶¶                   \r\n_______________¶¶1¶111¶1111111¶¶                    \r\n_______________¶¶¶111¶11111111¶                     \r\n______________¶¶¶11¶¶111111111¶                     \r\n______________¶¶11¶¶111111¶¶¶1¶¶                    \r\n_____________¶11¶¶1111111¶111111¶¶                  \r\n___________¶¶¶¶¶1111111¶¶11111111¶¶¶                \r\n__________¶¶¶1111111¶¶1111111111111¶¶¶              \r\n_________¶¶111111¶¶¶11111111111111111¶¶¶¶           \r\n_________¶111111¶¶1111111111111111111111¶¶¶         \r\n_________¶111111¶1111111111¶¶¶1111111111111¶        \r\n________¶11111111111111111¶¶_¶¶¶¶¶¶¶¶111111¶        \r\n_______¶¶111111111111111¶¶¶________¶111111¶¶        \r\n_______¶11111111111¶¶¶¶¶¶__________¶111111¶         \r\n______¶¶11111111111¶¶_____________¶¶11111¶¶        \r\n______¶111111111111¶______________¶¶11111¶         \r\n_____¶¶111111111111¶________________¶¶¶¶¶¶¶¶¶¶¶¶   \r\n_____¶1111111111111¶________________¶¶¶111111¶¶¶¶  \r\n_____¶1111111111111¶¶_____________¶¶¶111111¶¶¶11¶  \r\n____¶¶1111111111111¶¶¶_________¶¶¶1111111¶¶11111¶  \r\n____¶1111111111111111¶¶¶¶¶¶¶¶¶¶¶111111111¶1111¶¶ \r\n____¶111111111111111111¶¶¶¶11111111111111¶¶¶¶¶¶  \r\n___¶111111111111111111111111111111111111111¶¶¶   \r\n__¶111111111111111111111111111111111111111¶¶     \r\n¶¶11111111111111111111111111111111111111¶¶¶      \r\n111111111111111111111111111111111¶¶¶¶¶¶¶¶        \r\n111111111111111111111111111111¶¶¶¶               \r\n1111111111111111111111111111¶¶¶                  \r\n111111111111111111111111111¶¶                    \r\n1111111111111111111111111¶¶                      \r\n111111111111111111111111¶¶                       \r\n1111111111111111111111¶¶                         \r\n111111111111111111¶¶¶¶                           \r\n111111111¶¶¶¶¶¶¶¶¶¶                              \r\n111111¶¶¶                                        \r\n¶¶¶¶¶¶¶\r\n");
                        Console.WriteLine("HAI DISINNESCATO IN TEMPO LA BOMBA");
                        userpt++;
                        break;
                    }
                    else
                    {
                        count--;
                        Console.WriteLine($"Hai {count} tentativi rimanenti per disinnescare la bomba");
                        Console.WriteLine("Scegli un altro file");
                    }
                    if(count == 0)
                    {
                        Console.WriteLine("´´´´´´´´´´´´´´´´´´´ ¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´´´´´´´´´´´´´´´`\r\n´´´´´´´´´´´´´´´´´¶¶¶¶¶¶´´´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´´´´´´´\r\n´´´´´´´´´´´´´´¶¶¶¶´´´´´´´´´´´´´´´´´´´´´´´¶¶¶¶´´´´´´´´´´´´´´\r\n´´´´´´´´´´´´´¶¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´´´\r\n´´´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´´\r\n´´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´`´´´´´´´´´´´¶¶´´´´´´´´´´`\r\n´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´\r\n´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´¶¶´´´´´´´´´´\r\n´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶´´´´´´´´´´\r\n´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶´´´´´´´´´´\r\n´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´¶¶´´´´´´´´´´\r\n´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´\r\n´´´´´´´´´´´¶¶´¶¶´´´¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶´´´¶¶´¶¶´´´´´´´´´´´\r\n´´´´´´´´´´´´¶¶¶¶´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶´¶¶¶¶¶´´´´´´´´´´´\r\n´´´´´´´´´´´´´¶¶¶´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶´¶¶¶´´´´´´´´´´´´´\r\n´´´´¶¶¶´´´´´´´¶¶´´¶¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶¶¶´´¶¶´´´´´´¶¶¶¶´´´\r\n´´´¶¶¶¶¶´´´´´¶¶´´´¶¶¶¶¶¶¶´´´¶¶¶´´´¶¶¶¶¶¶¶´´´¶¶´´´´´¶¶¶¶¶¶´´\r\n´´¶¶´´´¶¶´´´´¶¶´´´´´¶¶¶´´´´¶¶¶¶¶´´´´¶¶¶´´´´´¶¶´´´´¶¶´´´¶¶´´\r\n´¶¶¶´´´´¶¶¶¶´´¶¶´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´¶¶´´¶¶¶¶´´´´¶¶¶´\r\n¶¶´´´´´´´´´¶¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶¶¶´´´´´´´´¶¶\r\n¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶´´´´¶¶¶¶¶¶¶´´´´¶¶¶¶¶¶¶¶´´´´´´¶¶¶¶¶¶¶¶\r\n´´¶¶¶¶´¶¶¶¶¶´´´´´´¶¶¶¶¶´´´´´´´´´´´´´´¶¶¶´¶¶´´´´´¶¶¶¶¶¶´¶¶¶´\r\n´´´´´´´´´´¶¶¶¶¶¶´´¶¶¶´´¶¶´´´´´´´´´´´¶¶´´¶¶¶´´¶¶¶¶¶¶´´´´´´´´\r\n´´´´´´´´´´´´´´¶¶¶¶¶¶´¶¶´¶¶¶¶¶¶¶¶¶¶¶´¶¶´¶¶¶¶¶¶´´´´´´´´´´´´´´\r\n´´´´´´´´´´´´´´´´´´¶¶´¶¶´¶´¶´¶´¶´¶´¶´¶´¶´¶¶´´´´´´´´´´´´´´´´´\r\n´´´´´´´´´´´´´´´´¶¶¶¶´´¶´¶´¶´¶´¶´¶´¶´¶´´´¶¶¶¶¶´´´´´´´´´´´´´´\r\n´´´´´´´´´´´´¶¶¶¶¶´¶¶´´´¶¶¶¶¶¶¶¶¶¶¶¶¶´´´¶¶´¶¶¶¶¶´´´´´´´´´´´´\r\n´´´´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶´´´´´´´´´´´´´´´´´¶¶´´´´´´¶¶¶¶¶¶¶¶¶´´´´\r\n´´´¶¶´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´´´´¶¶¶¶¶¶¶¶´´´´´´´´´´¶¶´´´\r\n´´´´¶¶¶´´´´´¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶´´´´´¶¶¶´´´´\r\n´´´´´´¶¶´´´¶¶¶´´´´´´´´´´´¶¶¶¶¶¶¶¶¶´´´´´´´´´´´¶¶¶´´´¶¶´´´´´´\r\n´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶¶´´´´´´\r\n´´´´´´´¶¶¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶¶¶´´´´´´´\r\n");
                        Console.WriteLine("SEI ESPLOSO MALAMENTE");
                        pcpt++;
                    }
                }

                Console.WriteLine($"Punti giocatore= {userpt}   -   Punti bot= {pcpt}");
                Console.WriteLine("Vuoi giocare ancora?");
                string risposta = Console.ReadLine();
                if (risposta.ToLower().Equals("no"))
                    break;
            }
        }
    }
}